# Credit Card Fraud Detection System

A machine learning-powered web application built with Streamlit that detects fraudulent credit card transactions in real-time. The system uses a trained Random Forest classification model to analyze transaction features and predict the likelihood of fraud.

## Features

- **Real-time Fraud Detection**: Enter transaction details manually and receive instant fraud predictions
- **Interactive Dashboard**: User-friendly Streamlit interface with intuitive controls
- **Sample Case Testing**: Generate and test random fraud or legitimate transaction samples
- **Probability Scoring**: View fraud probability scores for each transaction
- **Multiple Input Methods**:
  - Manual transaction entry
  - Pre-loaded fraud case samples
  - Pre-loaded legitimate case samples

## Model Overview

The fraud detection model analyzes the following transaction attributes:

- **Transaction Details**: Amount, timestamp (hour, day, month), location (latitude, longitude)
- **Merchant Information**: Merchant name, category, location (latitude, longitude)
- **Cardholder Data**: Age, gender, job, city population

The model employs Random Forest classification with SMOTE (Synthetic Minority Over-sampling Technique) to handle class imbalance in the training data.

## Getting Started

### Prerequisites

- Python 3.8 or higher
- pip package manager

### Installation

1. **Clone the repository**

   ```bash
   git clone https://github.com/nikkjke/fraud-detection-app.git
   cd credit-card-fraud-detection
   ```

2. **Create a virtual environment** (recommended)

   ```bash
   python -m venv .venv
   ```

3. **Activate the virtual environment**

   - Windows:
     ```bash
     .venv\Scripts\activate
     ```
   - macOS/Linux:
     ```bash
     source .venv/bin/activate
     ```

4. **Install required packages**

   ```bash
   pip install -r requirements.txt
   ```

5. **Download the dataset**

   - The main dataset file (`credit_card_transactions.csv`) is not included in the repository due to its large size (338 MB)
   - Download the credit card fraud dataset from https://www.kaggle.com/datasets/priyamchoksi/credit-card-transactions-dataset
   - Place `credit_card_transactions.csv` in the project root directory

6. **Generate model and sample files**

   - Open `credit_card_notebook.ipynb` in Jupyter Notebook or VS Code
   - Run all cells in the notebook sequentially
   - This will:
     - Train the fraud detection model
     - Generate `fraud_detection_model.pkl` and `label_encoders.pkl`
     - Create `fraud_samples.csv` and `legit_samples.csv` for testing

   **Note**: Model files and CSV files are excluded from the repository due to their large size. You must run the notebook to generate them before using the Streamlit application.

### Running the Application

**Important**: Before running the application, ensure you have completed step 6 above (generating the model and sample files).

1. **Start the Streamlit app**

   ```bash
   streamlit run app.py
   ```

2. **Access the application**
   - The app will automatically open in your default web browser
   - Default URL: `http://localhost:8501`

## Dataset

The project uses credit card transaction data with the following structure:

- `credit_card_transactions.csv`: Main dataset containing transaction records (not included in repository)
- `fraud_samples.csv`: Sample fraudulent transactions (generated by notebook)
- `legit_samples.csv`: Sample legitimate transactions (generated by notebook)

**Note**: Due to file size limitations, CSV files and trained models are not included in this repository. Run the Jupyter notebook to generate all required files.

## Project Structure

```
credit-card-fraud-detection/
├── app.py                          # Main Streamlit application
├── credit_card_notebook.ipynb      # Model training and analysis notebook
├── credit_card_transactions.csv    # Main dataset (download separately)
├── fraud_samples.csv               # Fraud transaction samples (generated by notebook)
├── legit_samples.csv               # Legitimate transaction samples (generated by notebook)
├── fraud_detection_model.pkl       # Trained ML model (generated by notebook)
├── label_encoders.pkl              # Feature encoders (generated by notebook)
├── requirements.txt                # Python dependencies
├── .gitignore                      # Git ignore file
└── README.md                       # Project documentation
```

## Model Training

To train the model from scratch:

1. Open `credit_card_notebook.ipynb` in Jupyter Notebook or VS Code
2. Run all cells sequentially
3. The notebook will:
   - Load and preprocess the data
   - Perform exploratory data analysis
   - Apply SMOTE to handle class imbalance
   - Train the Random Forest classification model
   - Evaluate model performance
   - Save the trained model and encoders

## Usage Examples

### Manual Transaction Check

1. Navigate to the application in your browser
2. Fill in the transaction details:
   - Merchant name and category
   - Transaction amount
   - Customer information (age, gender, job)
   - Location data (latitude, longitude)
   - Transaction timing (hour, day, month)
3. Click "Check For Fraud"
4. View the prediction and fraud probability score

### Testing with Sample Cases

- **Fraud Cases**: Click "Generate Fraud Case" to test a known fraudulent transaction
- **Legitimate Cases**: Click "Generate Legit Case" to test a known legitimate transaction

## Technologies Used

- **Python 3.8+**: Core programming language
- **Streamlit**: Web application framework for interactive dashboard
- **scikit-learn**: Machine learning library for Random Forest classifier
- **imbalanced-learn**: SMOTE implementation for handling imbalanced datasets
- **pandas**: Data manipulation and analysis
- **seaborn/matplotlib**: Data visualization
- **joblib**: Model serialization and deserialization

## Model Performance

The model performance metrics and evaluation results, including classification reports, confusion matrices, and feature importance analysis, can be found in the Jupyter notebook (`credit_card_notebook.ipynb`).

---

**Note**: This project is for educational and demonstration purposes.
